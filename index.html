<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Paige üíñ</title>

<style>
:root{
  --bg1:#fdecef;
  --bg2:#f8dce6;
  --card:#ffffffee;
  --shadow:0 30px 80px rgba(0,0,0,.18);
}

*{box-sizing:border-box}

html,body{
  margin:0;
  height:100%;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  background:
    radial-gradient(circle at top,#fff 0%,transparent 60%),
    linear-gradient(135deg,var(--bg1),var(--bg2));
}

.wrap{
  height:100%;
  display:grid;
  place-items:center;
  padding:24px;
}

.card{
  width:min(820px,96vw);
  background:var(--card);
  border-radius:32px;
  box-shadow:var(--shadow);
  padding:28px;
  text-align:center;
}

.hidden{display:none}

h1{
  margin:8px 0 12px;
  font-size:clamp(28px,4vw,44px);
}

p{color:#666; margin:0 0 10px}

.stage{
  position:relative;
  height:360px;
  margin-top:16px;
  border-radius:24px;
  background:#fff;
  overflow:hidden;
}

.stage video{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
  border-radius:18px;
}

/* Buttons */
.bubble{
  position:absolute;
  padding:14px 28px;
  border-radius:999px;
  font-size:18px;
  cursor:pointer;
  border:none;
  transition:transform .15s;
  user-select:none;
}

.yes{
  background:#ff7fb0;
  color:#fff;
}

.no{
  background:#ddd;
  color:#444;
}

.bubble:hover{ transform:scale(1.06); }

/* YES video container */
.videoBox{
  width:100%;
  height:100%;
  background:#000;
  border-radius:18px;
  overflow:hidden;
  position:relative;
}

.fallback{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;
  color:#fff;
  font-size:14px;
  padding:18px;
  text-align:center;
  opacity:.85;
  pointer-events:none;
}
.smallNote{
  font-size:12px;
  color:#8a7a8a;
  margin-top:10px;
}
</style>
</head>

<body>
<div class="wrap">

<!-- INTRO SCREEN -->
<div class="card" id="intro">
  <h1>Hi Paige üíó</h1>
  <p>I made something for you</p>

  <div class="stage">
    <video id="introVid" src="intro.mp4" muted playsinline preload="auto"></video>

    <button class="bubble yes" id="playBtn"
      style="left:50%;top:50%;transform:translate(-50%,-50%)">
      Play ‚ñ∂
    </button>
  </div>

  <div class="smallNote">Tap Play (this lets videos/audio work on phones)</div>
</div>

<!-- QUESTION SCREEN -->
<div class="card hidden" id="question">
  <h1>Paige, will you be my Valentine? üíû</h1>
  <p>I was hoping you‚Äôd say yes‚Ä¶ but no pressure üíó</p>

  <div class="stage" id="stage">
    <button class="bubble yes" id="yesBtn">Yes</button>
    <button class="bubble no" id="noBtn">No</button>
  </div>
</div>

<!-- YES SCREEN -->
<div class="card hidden" id="yesScreen">
  <h1>You said YES ü•πüíñ</h1>

  <div class="stage">
    <div class="videoBox">
      <video id="yesVid" src="yes.mp4" muted playsinline preload="auto"></video>
      <div class="fallback" id="yesFallback" style="display:none;">
        Video not found.<br/>
        Make sure the file in your repo is named exactly: <b>yes.mp4</b> (lowercase).
      </div>
    </div>
  </div>

  <p>This made my whole day.</p>
</div>

<audio id="song" src="song.mp3" loop preload="auto"></audio>

<script>
const intro = document.getElementById("intro");
const question = document.getElementById("question");
const yesScreen = document.getElementById("yesScreen");

const introVid = document.getElementById("introVid");
const playBtn = document.getElementById("playBtn");

const stage = document.getElementById("stage");
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");

const yesVid = document.getElementById("yesVid");
const yesFallback = document.getElementById("yesFallback");

const song = document.getElementById("song");

/* INTRO: play -> then go to question */
playBtn.onclick = async () => {
  playBtn.style.display = "none";
  try { await introVid.play(); } catch(e) {}
  introVid.onended = () => {
    intro.classList.add("hidden");
    question.classList.remove("hidden");
    placeButtons();
  };
};

/* place initial buttons */
function placeButtons(){
  const r = stage.getBoundingClientRect();
  yesBtn.style.left = r.width*0.33 + "px";
  yesBtn.style.top  = r.height*0.62 + "px";
  noBtn.style.left  = r.width*0.58 + "px";
  noBtn.style.top   = r.height*0.62 + "px";
}

/* dodge function (keeps inside box) */
function dodge(btn, strength){
  const r = stage.getBoundingClientRect();
  const maxX = r.width - 160;
  const maxY = r.height - 80;

  // move relative to current position (so it feels ‚Äúalive‚Äù)
  const curX = parseFloat(btn.style.left || "0");
  const curY = parseFloat(btn.style.top  || "0");

  const dx = (Math.random()*2 - 1) * strength;
  const dy = (Math.random()*2 - 1) * (strength * 0.7);

  let nx = curX + dx;
  let ny = curY + dy;

  // if off bounds, randomize a bit (so it never gets stuck)
  if (nx < 10 || nx > maxX) nx = Math.random() * maxX;
  if (ny < 10 || ny > maxY) ny = Math.random() * maxY;

  btn.style.left = Math.max(10, Math.min(maxX, nx)) + "px";
  btn.style.top  = Math.max(10, Math.min(maxY, ny)) + "px";
}

/* YES moves like NO (but less) */
yesBtn.onmouseenter = () => dodge(yesBtn, 120); // smaller dodge
noBtn.onmouseenter  = () => dodge(noBtn, 260);  // bigger dodge

/* YES click: show yes screen, play song, play muted video */
yesBtn.onclick = async () => {
  question.classList.add("hidden");
  yesScreen.classList.remove("hidden");

  // start song (ONLY after YES)
  try {
    song.volume = 0.35;
    await song.play();
  } catch(e) {}

  // force video to load + play
  yesFallback.style.display = "none";
  yesVid.currentTime = 0;
  yesVid.load();

  // if the file name/path is wrong, show a message
  yesVid.onerror = () => { yesFallback.style.display = "grid"; };

  // play (muted, allowed after user gesture)
  setTimeout(async () => {
    try { await yesVid.play(); } catch(e) {}
  }, 150);
};

window.addEventListener("resize", () => {
  if(!question.classList.contains("hidden")) placeButtons();
});

placeButtons();
</script>

</div>
</body>
</html>
